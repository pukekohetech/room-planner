/* =========================================================
   Clean Light UI + White Plan/Walls Canvases (Full CSS)
   ========================================================= */

/* ===== THEME ===== */
:root{
  --bg: #f4f6f8;
  --surface: #ffffff;
  --surface-2: #fbfbfc;
  --border: #d9dee5;

  --text: #111827;
  --muted: #6b7280;

  --brand: #2563eb;
  --brand-soft: rgba(37, 99, 235, 0.12);

  --danger: #dc2626;
  --danger-soft: rgba(220, 38, 38, 0.14);

  --shadow: 0 10px 28px rgba(16,24,40,0.10);
  --shadow-soft: 0 6px 16px rgba(16,24,40,0.08);

  --radius: 14px;
  --radius-sm: 10px;
}

/* ===== BASE ===== */
*,
*::before,
*::after { box-sizing: border-box; }

html, body { height: 100%; }

body{
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  margin: 0;
  padding: 1rem;
  background: var(--bg);
  color: var(--text);
}

/* ===== LAYOUT ===== */

/* App: sidebar on the left, main content on the right */
#app{
  display: flex;
  gap: 1rem;
  align-items: flex-start;
}

/* Sidebar: fixed-ish width, scroll if tall */
#sidebar{
  width: 300px;
  max-width: 100%;
  display: flex;
  flex-direction: column;
  gap: .75rem;
}

/* Main area: plan + walls */
#main{
  flex: 1;
  min-width: 0;
}

/* Small screens: stack sidebar on top */
@media (max-width: 900px){
  #app{ flex-direction: column; }
  #sidebar{ width: 100%; }
}

/* ===== CARD / PANEL BASE ===== */
#controls,
#sizeEditor,
#featureInfo,
#wallsHint{
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow-soft);
}

/* ===== CONTROLS & BUTTONS ===== */
#controls{
  padding: .85rem;
  display: flex;
  flex-direction: column;
  gap: .55rem;
}

#controls button{ width: 100%; }

.scale-label{
  font-size: .85rem;
  color: var(--muted);
  margin-top: .15rem;
}

button{
  padding: .6rem .85rem;
  font-size: .95rem;
  cursor: pointer;
  border-radius: 12px;
  border: 1px solid var(--border);
  background: linear-gradient(180deg, #ffffff 0%, #f3f4f6 100%);
  color: var(--text);
  box-shadow: 0 10px 22px rgba(16,24,40,0.08);
  transition: transform .08s ease, filter .15s ease, box-shadow .15s ease;
}

button:hover{
  filter: brightness(1.03);
  box-shadow: 0 12px 26px rgba(16,24,40,0.10);
}

button:active{ transform: translateY(1px); }

.tool-active{
  border-color: rgba(37,99,235,0.45);
  background: linear-gradient(180deg, rgba(37,99,235,0.14), rgba(37,99,235,0.08));
}

.danger-btn{
  border-color: rgba(220,38,38,0.35);
  background: linear-gradient(180deg, rgba(220,38,38,0.18), rgba(220,38,38,0.08));
}

.danger-btn:hover{
  filter: brightness(1.02);
}

/* ===== EDITOR PANELS ===== */
#sizeEditor,
#featureInfo{
  display: none;              /* JS toggles to flex when needed */
  padding: .85rem 1rem;
  align-items: flex-start;
  gap: .6rem;
  flex-direction: column;
  font-size: .95rem;
}

#sizeEditor{ background: var(--surface-2); }
#featureInfo{ background: rgba(37,99,235,0.06); }

.panel-title{
  font-weight: 700;
  letter-spacing: .2px;
}

#sizeEditor label,
#featureInfo label{
  display: flex;
  flex-direction: column;
  gap: .25rem;
  font-size: .85rem;
  color: var(--muted);
}

#sizeEditor input,
#featureInfo input,
#wallsControls input{
  padding: .5rem .55rem;
  font-size: .95rem;
  margin-top: .05rem;
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  background: #fff;
  color: var(--text);
  outline: none;
}

#sizeEditor input:focus,
#featureInfo input:focus,
#wallsControls input:focus{
  border-color: rgba(37,99,235,0.55);
  box-shadow: 0 0 0 4px rgba(37,99,235,0.14);
}

/* Room name a bit wider */
#roomNameInput{ width: 100%; }

/* Number inputs */
#widthInput,
#heightInput,
#featureWidthInput,
#featureOffsetInput,
#featureHeadInput{ width: 5.5rem; }

/* Panel buttons aligned horizontally */
.panel-buttons{
  display: flex;
  gap: .5rem;
  flex-wrap: wrap;
}

/* ===== WALLS HINT ===== */
#wallsHint{
  padding: .85rem 1rem;
  border-style: dashed;
  background: #fff;
  font-size: .9rem;
  color: var(--muted);
}

#wallsHint .hint{
  font-size: .82rem;
  opacity: .9;
}

/* =========================================================
   WHITE DRAWING CANVASES (Plan + Walls)
   ========================================================= */

/* Scrollable wrappers around SVGs */
#floorplanWrapper,
#wallsWrapper{
  width: 100%;
  overflow-y: auto;
  overflow-x: auto;
  border-radius: var(--radius);
  border: 1px solid #d6d6d6;
  background: #ffffff;
  box-shadow:
    0 1px 2px rgba(0,0,0,0.04),
    0 12px 28px rgba(0,0,0,0.06);
  position: relative; /* for ::before overlay */
}

/* Subtle “paper edge” */
#floorplanWrapper::before,
#wallsWrapper::before{
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  border-radius: inherit;
  box-shadow: inset 0 0 0 1px rgba(0,0,0,0.03);
}

/* Plan wrapper: big, scrolls if needed */
#floorplanWrapper{
  max-height: 62vh;
  margin-bottom: 1rem;
}

/* Walls wrapper: fixed to laser-bed height */
#wallsWrapper{
  height: 420px;       /* matches SVG height */
}

/* Plan SVG */
#floorplan{
  max-width: none;
  touch-action: pan-x pan-y;
  cursor: default;
  background: #ffffff;
}

/* Walls SVG */
#wallsSvg{
  max-width: none;
  background: #ffffff;
}

/* ===== WALL ELEVATION SECTION ===== */
#wallsPanel{ margin-top: .35rem; }

#wallsControls{
  display: flex;
  align-items: center;
  gap: .9rem;
  margin-bottom: .4rem;
  font-size: .95rem;
  color: var(--muted);
}

#wallsControls input{
  width: 4.5rem;
}

/* =========================================================
   LASER STYLES (keep your semantics)
   ========================================================= */

/* ALL WALLS: red outline, no fill */
.wall-strip{
  fill: none !important;
  stroke: rgb(255,0,0) !important;
  stroke-width: 1 !important;
}

/* Disabled walls (faded) */
.wall-strip.disabled{
  opacity: 0.35 !important;
  stroke-dasharray: 6 4;
}

/* ALL FLOORS: red outline, no fill */
.floor-strip{
  fill: none !important;
  stroke: rgb(255,0,0) !important;
  stroke-width: 1 !important;
}

/* Disabled floors */
.floor-strip.disabled{
  opacity: 0.35 !important;
  stroke-dasharray: 6 4;
}

/* Labels for walls & floors: blue, centred */
.wall-label,
.floor-label{
  font-family: Arial, sans-serif;
  fill: rgb(0,0,255);
  pointer-events: none;
  font-weight: 500;
}

/* Your original sizing combo */
.wall-label,
.floor-label{ font-size: 4px; }

.wall-label tspan,
.floor-label tspan{ font-size: 8px; }

.wall-label.disabled,
.floor-label.disabled{ opacity: 0.35; }

/* =========================================================
   SCROLLBAR STYLING (desktop only)
   ========================================================= */
#floorplanWrapper::-webkit-scrollbar,
#wallsWrapper::-webkit-scrollbar{
  height: 10px;
  width: 10px;
}

#floorplanWrapper::-webkit-scrollbar-track,
#wallsWrapper::-webkit-scrollbar-track{
  background: #f0f2f5;
}

#floorplanWrapper::-webkit-scrollbar-thumb,
#wallsWrapper::-webkit-scrollbar-thumb{
  background: #c9cfd8;
  border-radius: 999px;
  border: 2px solid #f0f2f5;
}

#floorplanWrapper::-webkit-scrollbar-thumb:hover,
#wallsWrapper::-webkit-scrollbar-thumb:hover{
  background: #b7bfca;
}

/* =========================================================
   OPTIONAL: PRINT FRIENDLY
   ========================================================= */
@media print{
  body{ background: white; }

  #sidebar,
  #controls,
  #wallsControls,
  #wallsHint{ display: none !important; }

  #floorplanWrapper,
  #wallsWrapper{
    box-shadow: none !important;
    border: none !important;
  }
}
